<!DOCTYPE html>
<html prefix="" lang="pt_br">
<head>
<meta charset="utf-8">
<meta name="description" content="preprocessing.py">
<meta name="viewport" content="width=device-width">
<title>preprocessing.py | Anotações sobre NLP</title>
<link href="../assets/css/rst.css" rel="stylesheet" type="text/css">
<link href="../assets/css/code.css" rel="stylesheet" type="text/css">
<link href="../assets/css/dark.css" rel="stylesheet" type="text/css">
<link href="../assets/css/theme.css" rel="stylesheet" type="text/css">
<link href="https://fonts.googleapis.com/css?family=Share+Tech+Mono" rel="stylesheet">
<link href="../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" href="../rss.xml">
<link rel="canonical" href="http://demacdolincoln.github.io/anotacoes-nlp/listings/preprocessing.py.html">
<!--[if lt IE 9]><script src="../assets/js/html5.js"></script><![endif]--><script src="https://cdn.jsdelivr.net/npm/vega@4.4.0"></script><script src="https://cdn.jsdelivr.net/npm/vega-lite@2.6.0"></script><script src="https://cdn.jsdelivr.net/npm/vega-embed@3.24.2"></script><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/languages/python.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/languages/julia.min.js"></script><script>hljs.initHighlightingOnLoad();</script><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
</head>
<body class="hack dark">

<a href="#content" class="sr-only sr-only-focusable">Pular para o conteúdo principal</a>
    <div id="container">
         
    <header id="header"><h1 id="brand"><a href="http://demacdolincoln.github.io/anotacoes-nlp/" title="Anotações sobre NLP" rel="home">

        <span id="blog-title">Anotações sobre NLP</span>
    </a></h1>

        

        
    <nav id="menu"><ul>
<li><a href="../archive.html">Arquivo</a></li>
                <li><a href="../categories/">Etiqueta</a></li>
                <li><a href="../rss.xml">Feed RSS</a></li>

    

    
    
    </ul></nav></header><main id="content"><nav class="breadcrumbs"><ul class="breadcrumb">
<li><a href=".">listings</a></li>
                <li>preprocessing.py</li>
</ul></nav><h1>preprocessing.py
            <small><a href="preprocessing.py">(Código)</a></small>
        </h1>
    <table class="codetable"><tr>
<td class="linenos"><div class="linenodiv"><pre><a href="#listingspreprocessingpy-1"> 1</a>
<a href="#listingspreprocessingpy-2"> 2</a>
<a href="#listingspreprocessingpy-3"> 3</a>
<a href="#listingspreprocessingpy-4"> 4</a>
<a href="#listingspreprocessingpy-5"> 5</a>
<a href="#listingspreprocessingpy-6"> 6</a>
<a href="#listingspreprocessingpy-7"> 7</a>
<a href="#listingspreprocessingpy-8"> 8</a>
<a href="#listingspreprocessingpy-9"> 9</a>
<a href="#listingspreprocessingpy-10">10</a>
<a href="#listingspreprocessingpy-11">11</a>
<a href="#listingspreprocessingpy-12">12</a>
<a href="#listingspreprocessingpy-13">13</a>
<a href="#listingspreprocessingpy-14">14</a>
<a href="#listingspreprocessingpy-15">15</a>
<a href="#listingspreprocessingpy-16">16</a>
<a href="#listingspreprocessingpy-17">17</a>
<a href="#listingspreprocessingpy-18">18</a>
<a href="#listingspreprocessingpy-19">19</a>
<a href="#listingspreprocessingpy-20">20</a>
<a href="#listingspreprocessingpy-21">21</a>
<a href="#listingspreprocessingpy-22">22</a>
<a href="#listingspreprocessingpy-23">23</a>
<a href="#listingspreprocessingpy-24">24</a>
<a href="#listingspreprocessingpy-25">25</a></pre></div></td>
<td class="code"><pre class="code literal-block"><a name="listingspreprocessingpy-1"></a><span class="kn">import</span> <span class="nn">nltk</span>
<a name="listingspreprocessingpy-2"></a><span class="kn">import</span> <span class="nn">gensim</span>
<a name="listingspreprocessingpy-3"></a><span class="kn">import</span> <span class="nn">wikipedia</span>
<a name="listingspreprocessingpy-4"></a><span class="kn">import</span> <span class="nn">re</span>
<a name="listingspreprocessingpy-5"></a>
<a name="listingspreprocessingpy-6"></a><span class="n">wikipedia</span><span class="o">.</span><span class="n">set_lang</span><span class="p">(</span><span class="s2">"pt"</span><span class="p">)</span>
<a name="listingspreprocessingpy-7"></a><span class="n">text</span> <span class="o">=</span> <span class="n">wikipedia</span><span class="o">.</span><span class="n">page</span><span class="p">(</span><span class="s2">"Alan_Turing"</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>
<a name="listingspreprocessingpy-8"></a>
<a name="listingspreprocessingpy-9"></a><span class="n">corpus_text</span> <span class="o">=</span> <span class="p">[]</span>
<a name="listingspreprocessingpy-10"></a>
<a name="listingspreprocessingpy-11"></a><span class="n">stop_words</span> <span class="o">=</span> <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s2">"portuguese"</span><span class="p">)</span> <span class="o">+</span>\
<a name="listingspreprocessingpy-12"></a>             <span class="n">nltk</span><span class="o">.</span><span class="n">corpus</span><span class="o">.</span><span class="n">stopwords</span><span class="o">.</span><span class="n">words</span><span class="p">(</span><span class="s2">"english"</span><span class="p">)</span>
<a name="listingspreprocessingpy-13"></a>
<a name="listingspreprocessingpy-14"></a><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">text</span><span class="o">.</span><span class="n">splitlines</span><span class="p">():</span>
<a name="listingspreprocessingpy-15"></a>    <span class="n">clean_text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">"\d"</span><span class="p">,</span> <span class="s2">""</span><span class="p">,</span> <span class="n">i</span><span class="p">)</span> <span class="c1"># remove numbers</span>
<a name="listingspreprocessingpy-16"></a>    <span class="n">clean_text</span> <span class="o">=</span> <span class="n">gensim</span><span class="o">.</span><span class="n">utils</span><span class="o">.</span><span class="n">simple_preprocess</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
<a name="listingspreprocessingpy-17"></a>    <span class="n">clean_text</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">clean_text</span> <span class="k">if</span> <span class="n">i</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">stop_words</span><span class="p">]</span>
<a name="listingspreprocessingpy-18"></a>    <span class="n">corpus_text</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clean_text</span><span class="p">)</span>
<a name="listingspreprocessingpy-19"></a>        
<a name="listingspreprocessingpy-20"></a><span class="c1"># save using pickle</span>
<a name="listingspreprocessingpy-21"></a><span class="kn">import</span> <span class="nn">pickle</span>
<a name="listingspreprocessingpy-22"></a>
<a name="listingspreprocessingpy-23"></a><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">"corpus_text.pickle"</span><span class="p">,</span> <span class="s2">"wb"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
<a name="listingspreprocessingpy-24"></a>   <span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">corpus_text</span><span class="p">,</span> <span class="n">f</span><span class="p">)</span>
<a name="listingspreprocessingpy-25"></a>   <span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></td>
</tr></table></main><footer id="footer"><p>Contents © 2018         <a href="mailto:demacdolincoln@gmail.com">Lincoln de Macêdo</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         </p>
            
        </footer>
</div>
    
    

    
    
    
</body>
</html>
